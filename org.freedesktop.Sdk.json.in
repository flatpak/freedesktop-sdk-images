{
    "build-runtime": true,
    "id": "org.freedesktop.Sdk",
    "id-platform": "org.freedesktop.Platform",
    "branch": "@@SDK_BRANCH@@",
    "runtime": "org.freedesktop.BasePlatform",
    "sdk": "org.freedesktop.BaseSdk",
    "runtime-version": "@@SDK_RUNTIME_VERSION@@",
    "sdk-extensions": [],
    "finish-args": [
        "--extension=org.freedesktop.Platform.GL=version=1.4",
        "--extension=org.freedesktop.Platform.GL=versions=1.6;1.4",
        "--extension=org.freedesktop.Platform.GL=directory=lib/GL",
        "--extension=org.freedesktop.Platform.GL=subdirectories=true",
        "--extension=org.freedesktop.Platform.GL=no-autodownload=true",
        "--extension=org.freedesktop.Platform.GL=autodelete=false",
        "--extension=org.freedesktop.Platform.GL=add-ld-path=lib",
        "--extension=org.freedesktop.Platform.GL=merge-dirs=vulkan/icd.d;glvnd/egl_vendor.d",
        "--extension=org.freedesktop.Platform.GL=download-if=active-gl-driver",
        "--extension=org.freedesktop.Platform.GL=enable-if=active-gl-driver",
        "--extension=org.freedesktop.Platform.Timezones=directory=share/zoneinfo",
        "--extension=org.freedesktop.Platform.GStreamer=directory=lib/extensions/gstreamer-1.0",
        "--extension=org.freedesktop.Platform.GStreamer=subdirectories",
        "--extension=org.freedesktop.Platform.Icontheme=directory=share/runtime/share/icons",
        "--extension=org.freedesktop.Platform.Icontheme=subdirectories=true",
        "--extension=org.freedesktop.Platform.Icontheme=no-autodownload=true",
        "--extension=org.freedesktop.Platform.Icontheme=version=1.0",
        "--extension=org.gtk.Gtk3theme=directory=share/runtime/share/themes",
        "--extension=org.gtk.Gtk3theme=subdirectories=true",
        "--extension=org.gtk.Gtk3theme=subdirectory-suffix=gtk-3.0",
        "--extension=org.gtk.Gtk3theme=no-autodownload=true",
        "--extension=org.gtk.Gtk3theme=version=3.22",
        "--extension=org.freedesktop.Sdk.Extension=subdirectories",
        "--extension=org.freedesktop.Sdk.Extension=directory=lib/sdk",
        "--extension=org.freedesktop.Sdk.Extension=no-autodownload=true",
        "--env=GI_TYPELIB_PATH=/app/lib/girepository-1.0",
        "--env=GST_PLUGIN_SYSTEM_PATH=/app/lib/gstreamer-1.0:/usr/lib/extensions/gstreamer-1.0:/usr/lib/gstreamer-1.0",
        "--env=XDG_DATA_DIRS=/app/share:/usr/share:/usr/share/runtime/share",
        "--sdk=org.freedesktop.Sdk//@@SDK_BRANCH@@",
        "--runtime=org.freedesktop.Platform//@@SDK_BRANCH@@"
    ],
    "cleanup": [ "/cache",
                 "/man",
                 "/share/doc",
                 "/share/man",
                 "/share/gtk-doc/html",
                 "/share/devhelp",
                 "/lib/systemd",
                 "/lib/opkg",
                 "*.la", "*.a"],
    "cleanup-commands": [ "for i in /usr/lib/*.a; do cp $i $i.tmp; strip -g $i.tmp; mv $i.tmp $i; done",
                          "touch -d @0 /usr/share/fonts",
                          "touch -d @0 /usr/share/fonts/*",
                          "fc-cache -fs",
                          "mkdir -p /usr/lib/sdk",
                          "mkdir -p /usr/lib/GL",
                          "mkdir -p /usr/lib/debug",
                          "ln -s /app/lib/debug /usr/lib/debug/app",
                          "ln -s ../../run/ /usr/lib/extensions",
                          "ldconfig -C /usr/etc/ld.so.cache",
                          "cp -d /usr/lib/extra-links/* /usr/lib/ || true"
                        ],
    "cleanup-platform": [ "/include",
                          "/share/aclocal",
                          "/share/pkgconfig",
                          "/lib/pkgconfig",
                          "/lib/cmake",
                          "/share/vala",
                          "/share/gir-1.0",
                          "/lib/python*/test"
                        ],
    "cleanup-platform-commands": [ "rm /usr/lib/*.a",
                                   "touch -d @0 /usr/share/fonts",
                                   "touch -d @0 /usr/share/fonts/*",
                                   "fc-cache -fs",
                                   /* Work around gst-python issue */
                                   "ln -s libpython2.7.so.1.0 /usr/lib/libpython2.7.so",
                                   "ln -s libpython3.5m.so.1.0 /usr/lib/libpython3.5m.so",
                                   "ldconfig -C /usr/etc/ld.so.cache",
                                   "cp -d /usr/lib/extra-links/* /usr/lib/ || true"
                                 ],
    "build-options" : {
        "cflags": "-O2 -g -fstack-protector-strong -D_FORTIFY_SOURCE=2",
        "cxxflags": "-O2 -g -fstack-protector-strong -D_FORTIFY_SOURCE=2",
        "ldflags": "-fstack-protector-strong -Wl,-z,relro,-z,now",
        "env": {
            "V": "1"
        }
    },
    "modules": [
        {
            "name": "autoconf-archive",
            "cleanup-platform": [ "*" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://ftp.acc.umu.se/mirror/gnu.org/gnu/autoconf-archive/autoconf-archive-2016.09.16.tar.xz",
                    "sha256": "e8f2efd235f842bad2f6938bf4a72240a5e5fcd248e8444335e63beb60fabd82"
                }
            ]
        },
        {
            "name": "meson",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install"
            ],
            "cleanup-platform": ["*"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/51/6a/8de2f6d81f98823665d0aae376ec7c32eb9641e50be1252b3d26594197cd/meson-0.40.1.tar.gz",
                    "sha256": "9b26838a62c449d6a48f24e4ebd1ab0cd69687f95d93a0e70882c1c169cc2392"
                }
            ]
        },
        {
            "name": "xorg-x11-util-macros",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/util/util-macros-1.19.1.tar.bz2",
                     "sha256": "18d459400558f4ea99527bc9786c033965a3db45bf4c6a32eefdc07aa9e306a6"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-bigreqs",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/bigreqsproto-1.1.2.tar.bz2",
                     "sha256": "462116ab44e41d8121bfde947321950370b285a5316612b8fce8334d50751b1e"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-composite",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/compositeproto-0.4.2.tar.bz2",
                     "sha256": "049359f0be0b2b984a8149c966dd04e8c58e6eade2a4a309cf1126635ccd0cfc"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-damage",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/damageproto-1.2.1.tar.bz2",
                     "sha256": "5c7c112e9b9ea8a9d5b019e5f17d481ae20f766cb7a4648360e7c1b46fc9fc5b"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-dmx",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/dmxproto-2.3.1.tar.bz2",
                     "sha256": "e72051e6a3e06b236d19eed56368117b745ca1e1a27bdc50fd51aa375bea6509"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-evieext",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/evieext-1.1.1.tar.bz2",
                     "sha256": "1cf74114436d99f56577a90b6438a32ba31b8128c9e63842bb179aba592733fe"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-fixes",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/fixesproto-5.0.tar.bz2",
                     "sha256": "ba2f3f31246bdd3f2a0acf8bd3b09ba99cab965c7fb2c2c92b7dc72870e424ce"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-fonts",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/fontsproto-2.1.3.tar.bz2",
                     "sha256": "259046b0dd9130825c4a4c479ba3591d6d0f17a33f54e294b56478729a6e5ab8"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-gl",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/glproto-1.4.17.tar.bz2",
                     "sha256": "adaa94bded310a2bfcbb9deb4d751d965fcfe6fb3a2f6d242e2df2d6589dbe40"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-input",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/inputproto-2.3.2.tar.bz2",
                     "sha256": "893a6af55733262058a27b38eeb1edc733669f01d404e8581b167f03c03ef31d"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-kb",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/kbproto-1.0.7.tar.bz2",
                     "sha256": "f882210b76376e3fa006b11dbd890e56ec0942bc56e65d1249ff4af86f90b857"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-randr",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/randrproto-1.5.0.tar.bz2",
                     "sha256": "4c675533e79cd730997d232c8894b6692174dce58d3e207021b8f860be498468"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-record",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/recordproto-1.14.2.tar.bz2",
                     "sha256": "a777548d2e92aa259f1528de3c4a36d15e07a4650d0976573a8e2ff5437e7370"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-render",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/renderproto-0.11.1.tar.bz2",
                     "sha256": "06735a5b92b20759204e4751ecd6064a2ad8a6246bb65b3078b862a00def2537"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-resource",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/resourceproto-1.2.0.tar.bz2",
                     "sha256": "3c66003a6bdeb0f70932a9ed3cf57cc554234154378d301e0c5cfa189d8f6818"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-scrnsaver",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/scrnsaverproto-1.2.2.tar.bz2",
                     "sha256": "8bb70a8da164930cceaeb4c74180291660533ad3cc45377b30a795d1b85bcd65"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-video",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/videoproto-2.3.3.tar.bz2",
                     "sha256": "c7803889fd08e6fcaf7b68cc394fb038b2325d1f315e571a6954577e07cca702"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xcmisc",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xcmiscproto-1.2.2.tar.bz2",
                     "sha256": "b13236869372256c36db79ae39d54214172677fb79e9cdc555dceec80bd9d2df"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xext",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xextproto-7.3.0.tar.bz2",
                     "sha256": "f3f4b23ac8db9c3a9e0d8edb591713f3d70ef9c3b175970dd8823dfc92aa5bb0"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xf86bigfont",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xf86bigfontproto-1.2.0.tar.bz2",
                     "sha256": "ba9220e2c4475f5ed2ddaa7287426b30089e4d29bd58d35fad57ba5ea43e1648"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xf86dga",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xf86dgaproto-2.1.tar.bz2",
                     "sha256": "ac5ef65108e1f2146286e53080975683dae49fc94680042e04bd1e2010e99050"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xf86dri",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xf86driproto-2.1.1.tar.bz2",
                     "sha256": "9c4b8d7221cb6dc4309269ccc008a22753698ae9245a398a59df35f1404d661f"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xf86misc",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xf86miscproto-0.9.3.tar.bz2",
                     "sha256": "45b8ec6a4a8ca21066dce117e09dcc88539862e616e60fb391de05b36f63b095"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xf86vidmode",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xf86vidmodeproto-2.3.1.tar.bz2",
                     "sha256": "45d9499aa7b73203fd6b3505b0259624afed5c16b941bd04fcf123e5de698770"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xinerama",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xineramaproto-1.2.1.tar.bz2",
                     "sha256": "977574bb3dc192ecd9c55f59f991ec1dff340be3e31392c95deff423da52485b"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-x",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xproto-7.0.31.tar.bz2",
                     "sha256": "c6f9747da0bd3a95f86b17fb8dd5e717c8f3ab7f0ece3ba1b247899ec1ef7747"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-xproxymanagement",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/xproxymanagementprotocol-1.0.3.tar.bz2",
                     "sha256": "7382acd8c76fa577beb622cab86cc07fafdcecbbd9b4f209bfa72976c4fd26c2"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-dri2",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/dri2proto-2.8.tar.bz2",
                     "sha256": "f9b55476def44fc7c459b2537d17dbc731e36ed5d416af7ca0b1e2e676f8aa04"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-present",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/presentproto-1.1.tar.bz2",
                     "sha256": "f69b23a8869f78a5898aaf53938b829c8165e597cda34f06024d43ee1e6d26b9"
                 }
            ]
        },
        {
            "name": "xorg-x11-proto-dri3",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/proto/dri3proto-1.0.tar.bz2",
                     "sha256": "01be49d70200518b9a6b297131f6cc71f4ea2de17436896af153226a774fc074"
                 }
            ]
        },
        {
            "name": "xorg-x11-xtrans-devel",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/xtrans-1.3.5.tar.bz2",
                     "sha256": "adbd3b36932ce4c062cd10f57d78a156ba98d618bdb6f50664da327502bc8301"
                 }
            ]
        },
        {
            "name": "libXau",
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXau-1.0.8.tar.bz2",
                     "sha256": "fdd477320aeb5cdd67272838722d6b7d544887dfe7de46e1e7cc0c27c2bea4f2"
                 }
            ]
        },
        {
            "name": "xcb-proto",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-proto-1.12.tar.bz2",
                     "sha256": "5922aba4c664ab7899a29d92ea91a87aa4c1fc7eb5ee550325c3216c480a4906"
                 }
            ]
        },
        {
            "name": "libxcb",
            "rm-configure": true,
            /* I'm getting strange python errors with parallel build: EOFError: EOF read where object expected when parsing xml desc */
            "no-parallel-make": true,
            "config-opts": [ "--disable-static", "--enable-xkb", "--disable-xprint" ],
            "post-install": [ "sed 's,@libdir@,/usr/lib,;s,@prefix@,/usr,;s,@exec_prefix@,/usr,' pthread-stubs.pc.in > /usr/lib/pkgconfig/pthread-stubs.pc"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://xcb.freedesktop.org/dist/libxcb-1.12.tar.bz2",
                    "sha256": "4adfb1b7c67e99bc9c2ccb110b2f175686576d2f792c8a71b9c8b19014057b5b"
                },
                {
                    "type": "file",
                    "path": "pthread-stubs.pc.in"
                },
                {
                    "type": "patch",
                    "path": "libxcb-pthread-stub.patch"
                }
            ]
        },
        {
            "name": "libXdmcp",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXdmcp-1.1.2.tar.bz2",
                     "sha256": "81fe09867918fff258296e1e1e159f0dc639cb30d201c53519f25ab73af4e4e2"
                 }
            ]
        },
        {
            "name": "libX11",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libX11-1.6.5.tar.bz2",
                     "sha256": "4d3890db2ba225ba8c55ca63c6409c1ebb078a2806de59fb16342768ae63435d"
                 }
            ]
        },
        {
            "name": "libXext",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXext-1.3.3.tar.bz2",
                     "sha256": "b518d4d332231f313371fdefac59e3776f4f0823bcb23cf7c7305bfb57b16e35"
                 }
            ]
        },
        {
            "name": "libXv",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXv-1.0.11.tar.bz2",
                     "sha256": "d26c13eac99ac4504c532e8e76a1c8e4bd526471eb8a0a4ff2a88db60cb0b088"
                 }
            ]
        },
        {
            "name": "libXfixes",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXfixes-5.0.3.tar.bz2",
                     "sha256": "de1cd33aff226e08cefd0e6759341c2c8e8c9faf8ce9ac6ec38d43e287b22ad6"
                 }
            ]
        },
        {
            "name": "libXdamage",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXdamage-1.1.4.tar.bz2",
                     "sha256": "7c3fe7c657e83547f4822bfde30a90d84524efb56365448768409b77f05355ad"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "rm -f config.sub config.guess",
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "libXi",
            "config-opts": [ "--disable-static", "--disable-specs" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXi-1.7.9.tar.bz2",
                     "sha256": "c2e6b8ff84f9448386c1b5510a5cf5a16d788f76db018194dacdc200180faf45"
                 }
            ]
        },
        {
            "name": "libXtst",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXtst-1.2.3.tar.bz2",
                     "sha256": "4655498a1b8e844e3d6f21f3b2c4e2b571effb5fd83199d428a6ba7ea4bf5204"
                 }
            ]
        },
        {
            "name": "libICE",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libICE-1.0.9.tar.bz2",
                     "sha256": "8f7032f2c1c64352b5423f6b48a8ebdc339cc63064af34d66a6c9aa79759e202"
                 }
            ]
        },
        {
            "name": "libSM",
            "config-opts": [ "--disable-static", "--with-libuuid" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libSM-1.2.2.tar.bz2",
                     "sha256": "0baca8c9f5d934450a70896c4ad38d06475521255ca63b717a6510fdb6e287bd"
                 }
            ]
        },
        {
            "name": "libXt",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXt-1.1.5.tar.bz2",
                     "sha256": "46eeb6be780211fdd98c5109286618f6707712235fdd19df4ce1e6954f349f1a"
                 }
            ]
        },
        {
            "name": "libvdpau",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://cgit.freedesktop.org/~aplattner/libvdpau/snapshot/libvdpau-1.1.1.tar.bz2",
                     "sha256": "e0d3840e2d2bda66f8fa953e9cb3d0d1925d42616cad90d73a64cf8ec6227bfa"
                 }
            ]
        },
        {
            "name": "libpciaccess",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libpciaccess-0.13.5.tar.bz2",
                     "sha256": "752c54e9b3c311b4347cb50aea8566fa48eab274346ea8a06f7f15de3240b999"
                 }
            ]
        },
        {
            "name": "libdrm",
            "config-opts": [ "--disable-static", "--disable-udev" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://dri.freedesktop.org/libdrm/libdrm-2.4.79.tar.gz",
                     "sha256": "7f2594fb5d636e083f7765bfea62a43fcd7c5a12b8aa4f0552fb8fd12aa388a7"
                 }
            ]
        },
        {
            "name": "libXxf86vm",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXxf86vm-1.1.4.tar.bz2",
                     "sha256": "afee27f93c5f31c0ad582852c0fb36d50e4de7cd585fcf655e278a633d85cd57"
                 }
            ]
        },
        {
            "name": "libxshmfence",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libxshmfence-1.2.tar.bz2",
                     "sha256": "d21b2d1fd78c1efbe1f2c16dae1cb23f8fd231dcf891465b8debe636a9054b0c"
                 }
            ]
        },
        {
            "name": "libXpm",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXpm-3.5.12.tar.bz2",
                     "sha256": "fd6a6de3da48de8d1bb738ab6be4ad67f7cb0986c39bd3f7d51dd24f7854bdec"
                 }
            ]
        },
        {
            "name": "libXrender",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXrender-0.9.10.tar.bz2",
                     "sha256": "c06d5979f86e64cabbde57c223938db0b939dff49fdb5a793a1d3d0396650949"
                 }
            ]
        },
        {
            "name": "libXScrnSaver",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXScrnSaver-1.2.2.tar.bz2",
                     "sha256": "8ff1efa7341c7f34bcf9b17c89648d6325ddaae22e3904e091794e0b4426ce1d"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "libXcursor",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXcursor-1.1.14.tar.bz2",
                     "sha256": "9bc6acb21ca14da51bda5bc912c8955bc6e5e433f0ab00c5e8bef842596c33df"
                 }
            ]
        },
        {
            "name": "libXinerama",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXinerama-1.1.3.tar.bz2",
                     "sha256": "7a45699f1773095a3f821e491cbd5e10c887c5a5fce5d8d3fced15c2ff7698e2"
                 }
            ]
        },
        {
            "name": "libXrandr",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXrandr-1.5.1.tar.bz2",
                     "sha256": "1ff9e7fa0e4adea912b16a5f0cfa7c1d35b0dcda0e216831f7715c8a3abcf51a"
                 }
            ]
        },
        {
            "name": "libXcomposite",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXcomposite-0.4.4.tar.bz2",
                     "sha256": "ede250cd207d8bee4a338265c3007d7a68d5aca791b6ac41af18e9a2aeb34178"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "rm -f config.sub config.guess",
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "xcb-util",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-0.4.0.tar.bz2",
                     "sha256": "46e49469cb3b594af1d33176cd7565def2be3fa8be4371d62271fabb5eae50e9"
                 }
            ]
        },
        {
            "name": "xcb-util-image",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-image-0.4.0.tar.bz2",
                     "sha256": "2db96a37d78831d643538dd1b595d7d712e04bdccf8896a5e18ce0f398ea2ffc"
                 }
            ]
        },
        {
            "name": "xcb-util-renderutil",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-renderutil-0.3.9.tar.bz2",
                     "sha256": "c6e97e48fb1286d6394dddb1c1732f00227c70bd1bedb7d1acabefdd340bea5b"
                 }
            ]
        },
        {
            "name": "xcb-util-cursor",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-cursor-0.1.3.tar.bz2",
                     "sha256": "05a10a0706a1a789a078be297b5fb663f66a71fb7f7f1b99658264c35926394f"
                 }
            ]
        },
        {
            "name": "xcb-util-keysyms",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-keysyms-0.4.0.tar.bz2",
                     "sha256": "0ef8490ff1dede52b7de533158547f8b454b241aa3e4dcca369507f66f216dd9"
                 }
            ]
        },
        {
            "name": "xcb-util-wm",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xcb.freedesktop.org/dist/xcb-util-wm-0.4.1.tar.bz2",
                     "sha256": "28bf8179640eaa89276d2b0f1ce4285103d136be6c98262b6151aaee1d3c2a3f"
                 }
            ]
        },
        {
            /* This is to bootstrap the harfbuzz build, it will be rebuilt later again */
            "name": "freetype-bootstrap",
            "config-opts": [ "--disable-static", "--with-zlib=yes", "--with-bzip2=yes", "--with-png=yes", "--with-harfbuzz=no" ],
            "cleanup-platform": [ "/bin/freetype-config" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://download.savannah.gnu.org/releases/freetype/freetype-2.7.1.tar.bz2",
                     "sha256": "3a3bb2c4e15ffb433f2032f50a5b5a92558206822e22bfe8cbe339af4aa82f88"
                 }
            ]
        },
        {
            "name": "fontconfig",
            "config-opts": [ "--disable-static"],
            "post-install": [ "install -m 0644 -p -T fontconfig-flatpak.conf /etc/fonts/conf.d/50-flatpak.conf"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://fontconfig.org/release/fontconfig-2.12.1.tar.bz2",
                     "sha256": "b449a3e10c47e1d1c7a6ec6e2016cca73d3bd68fbbd4f0ae5cc6b573f7d6c7f3"
                 },
                 {
                     "type": "file",
                     "path": "fontconfig-flatpak.conf"
                 }
            ]
        },
        {
            "name": "libXft",
            "config-opts": [ "--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/libXft-2.3.2.tar.bz2",
                     "sha256": "f5a3c824761df351ca91827ac221090943ef28b248573486050de89f4bfcdc4c"
                 }
            ]
        },
        {
            "name": "glib2",
            "config-opts": ["--with-pcre=system" ],
            "cleanup-platform": [ "/share/glib-2.0/codegen",
                                  "/bin/gdbus-codegen",
                                  "/bin/glib-*",
                                  "/bin/gobject-query",
                                  "/bin/gresource",
                                  "/bin/gtester*"
                               ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/glib/2.52/glib-2.52.3.tar.xz",
                    "sha256": "25ee7635a7c0fcd4ec91cbc3ae07c7f8f5ce621d8183511f414ded09e7e4e128"
                 }
            ]
        },
        {
            "name": "xkeyboard-config",
            "config-opts": [ "--enable-compat-rules", "--with-xkb-base=/usr/share/X11/xkb", "--with-xkb-rules-symlink=xorg"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/data/xkeyboard-config/xkeyboard-config-2.20.tar.bz2",
                     "sha256": "d1bfc72553c4e3ef1cd6f13eec0488cf940498b612ab8a0b362e7090c94bc134"
                 }
            ]
        },
        {
            "name": "libxkbcommon",
            "config-opts": [ "--disable-static", "--enable-x11" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xkbcommon.org/download/libxkbcommon-0.7.1.tar.xz",
                     "sha256": "ba59305d2e19e47c27ea065c2e0df96ebac6a3c6e97e28ae5620073b6084e68b"
                 }
            ]
        },
        {
            "name": "llvm",
            "cmake": true,
            "builddir": true,
            "build-options" : {
                "cflags": "-g1",
                "cxxflags": "-g1"
            },
            "cleanup-platform": ["/bin/llvm-*"],
            "build-options" : {
                "arch" : {
		    "i386" : {
                        "config-opts" : [
                            "-DLLVM_HOST_TRIPLE:STRING=i586-unknown-linux-gnu"
			]
		    },
		    "arm" : {
                        "config-opts" : [
                            "-DLLVM_HOST_TRIPLE:STRING=arm-unknown-linux-gnueabihf"
			]
		    }
                }
            },
            "config-opts": [
                "-DCMAKE_C_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_CXX_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DBUILD_SHARED_LIBS:BOOL=ON",
                "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo",
                "-DCMAKE_SHARED_LINKER_FLAGS=-Wl,-Bsymbolic -static-libstdc++",
                "-DLLVM_LIBDIR_SUFFIX=",
                "-DLLVM_TARGETS_TO_BUILD=X86;AMDGPU;NVPTX;AArch64;ARM;BPF",
                "-DLLVM_ENABLE_LIBCXX:BOOL=OFF",
                "-DLLVM_ENABLE_ZLIB:BOOL=ON",
                "-DLLVM_ENABLE_FFI:BOOL=ON",
                "-DLLVM_ENABLE_RTTI:BOOL=ON",
                "-DLLVM_BUILD_RUNTIME:BOOL=ON",
                "-DLLVM_INCLUDE_TOOLS:BOOL=ON",
                "-DLLVM_BUILD_TOOLS:BOOL=ON",
                "-DLLVM_INCLUDE_TESTS:BOOL=OFF",
                "-DLLVM_BUILD_TESTS:BOOL=OFF",
                "-DLLVM_INCLUDE_EXAMPLES:BOOL=OFF",
                "-DLLVM_BUILD_EXAMPLES:BOOL=OFF",
                "-DLLVM_INCLUDE_UTILS:BOOL=ON",
                "-DLLVM_INSTALL_UTILS:BOOL=OFF",
                "-DLLVM_INCLUDE_DOCS:BOOL=OFF",
                "-DLLVM_BUILD_DOCS:BOOL=OFF",
                "-DLLVM_ENABLE_SPHINX:BOOL=OFF",
                "-DLLVM_ENABLE_DOXYGEN:BOOL=OFF",
                "-DLLVM_BUILD_LLVM_DYLIB:BOOL=OFF",
                "-DLLVM_BUILD_EXTERNAL_COMPILER_RT:BOOL=ON",
                "-DFFI_INCLUDE_DIR=/usr/lib/libffi-3.2.1/include",
                "-DLLVM_INSTALL_TOOLCHAIN_ONLY:BOOL=OFF"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://llvm.org/releases/4.0.0/llvm-4.0.0.src.tar.xz",
                    "sha256": "8d10511df96e73b8ff9e7abbfb4d4d432edbdbe965f1f4f07afaf370b8a533be"
                }
            ]
        },
        {
            "name": "clang",
            "cmake": true,
            "builddir": true,
            "build-options" : {
                "cflags": "-g1",
                "cxxflags": "-g1"
            },
            "config-opts": [
                "-DCMAKE_C_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_CXX_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DBUILD_SHARED_LIBS:BOOL=ON",
                "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo",
                "-DLLVM_CONFIG:FILEPATH=/usr/bin/llvm-config",
                "-DCLANG_ENABLE_ARCMT:BOOL=ON",
                "-DCLANG_ENABLE_STATIC_ANALYZER:BOOL=ON",
                "-DCLANG_INCLUDE_DOCS:BOOL=OFF",
                "-DCLANG_INCLUDE_TESTS:BOOL=OFF",
                "-DCLANG_PLUGIN_SUPPORT:BOOL=ON",
                "-DCLANG_BUILD_EXAMPLES:BOOL=OFF"],
            "cleanup-platform": [ "*" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://llvm.org/releases/4.0.0/cfe-4.0.0.src.tar.xz",
                    "sha256": "cea5f88ebddb30e296ca89130c83b9d46c2d833685e2912303c828054c4dc98a"
                },
                {
                    "type": "patch",
                    "path": "clang-detect-arches.patch"
                }
            ]
        },
        {
            "name": "wayland",
            "config-opts": ["--disable-static", "--disable-documentation"],
            "cleanup-platform": [ "/bin/wayland-scanner" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://wayland.freedesktop.org/releases/wayland-1.12.0.tar.xz",
                     "sha256": "d6b4135cba0188abcb7275513c72dede751d6194f6edc5b82183a3ba8b821ab1"
                 }
            ]
        },
        {
            "name": "wayland-protocols",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://wayland.freedesktop.org/releases/wayland-protocols-1.7.tar.xz",
                     "sha256": "635f2a937d318f1fecb97b54074ca211486e38af943868dd0fa82ea38d091c1f"
                 }
            ]
        },
        {
            "name": "vulkan",
            "cmake": true,
            "config-opts": [
                "-DCMAKE_INSTALL_LIBDIR=lib",
                "-DCMAKE_BUILD_TYPE=Release",
                "-DCMAKE_SKIP_RPATH:BOOL=yes",
                "-DBUILD_VKJSON=OFF",
                "-DCMAKE_INSTALL_SYSCONFDIR:PATH=/etc",
                "-DBUILD_WSI_MIR_SUPPORT=OFF",
                "-DGLSLANG_SPIRV_INCLUDE_DIR=./",
                "-DBUILD_TESTS=OFF",
                "-DBUILD_DEMOS=OFF",
                "-DBUILD_LAYERS=OFF"
            ],
            "post-install": [
                "mkdir -p /usr/lib/GL/vulkan/icd.d",
                "ln -s /usr/lib/GL/vulkan /usr/etc/vulkan",
                "mkdir -p /usr/share/vulkan/icd.d"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/archive/sdk-1.0.46.0.tar.gz",
                    "sha256": "439db567f03448f57d7899c4a78986669dc4d930af9699986a85bf2fc3d3acb8"
                }
            ]
        },
        {
            "name": "libglvnd",
            "config-opts": [ "--disable-static", "--enable-asm", "--enable-tls" ],
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
                    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
                        ]
                    }
                }
            },
            "post-install": [
                "mkdir -p /usr/lib/GL/glvnd/egl_vendor.d",
                "ln -s /usr/lib/GL/glvnd /usr/etc/glvnd",
                "mkdir -p /usr/share/glvnd/egl_vendor.d"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/NVIDIA/libglvnd.git",
                    "branch": "4ba5345742d6c98b528ac28fb7127006d2cc3f75"
                },
                {
                    "type": "patch",
                    "path": "libglvnd-OpenGL-Statically-export-a-few-more-things.patch"
                }
            ]
        },
        {
            "name": "mesa",
            "build-options" : {
                "cxxflags": "-fno-rtti -fno-exceptions",
		"arch" : {
		    "i386" : {
			"config-opts" : [
                            "--build=i586-unknown-linux-gnu",
			    "--with-gallium-drivers=svga,swrast,nouveau,r600,r300,radeonsi",
			    "--with-dri-drivers=swrast,nouveau,radeon,r200,i915,i965",
			    "--with-vulkan-drivers=intel"
			]
		    },
		    "x86_64" : {
			"config-opts" : [
			    "--with-gallium-drivers=svga,swrast,nouveau,r600,r300,radeonsi",
			    "--with-dri-drivers=swrast,nouveau,radeon,r200,i915,i965",
			    "--with-vulkan-drivers=intel"
			]
		    },
		    "arm" : {
			"config-opts" : [
			    "--with-gallium-drivers=svga,swrast,nouveau,freedreno,vc4",
			    "--with-dri-drivers=swrast,nouveau,radeon,r200"
			]
		    },
		    "aarch64" : {
			"config-opts" : [
			    "--with-gallium-drivers=svga,swrast,nouveau,freedreno,vc4",
			    "--with-dri-drivers=swrast,nouveau,radeon,r200"
			]
		    }
		}
            },
            "config-opts": [
                "--enable-libglvnd",
                "--disable-selinux",
                "--disable-osmesa",
                "--with-dri-driverdir=/usr/lib/dri",
                "--enable-egl",
                "--disable-gles1",
                "--enable-gles2",
                "--disable-xvmc",
                "--with-egl-platforms=x11,drm,surfaceless,wayland",
                "--enable-shared-glapi",
                "--enable-gbm",
                "--disable-opencl",
                "--enable-glx-tls",
                "--enable-texture-float=yes",
                "--enable-gallium-llvm",
                "--enable-llvm-shared-libs",
                "--enable-dri",
                "--enable-sysfs"
            ],
            "make-args": [ "MKDEP=/bin/true"],
            "post-install": [
                /* Strip the dri drivers to avoid breaking the hardlinks when extracting debuginfo */
                "for i in /usr/lib/vdpau/*.so.1.0.0 /usr/lib/dri/*.so; do cp $i $i.tmp; eu-strip $i.tmp; mv $i.tmp $i; done",
                /* Set the default driver to mesa */
                "ln -s libEGL_mesa.so /usr/lib/libEGL_indirect.so",
                "ln -s libEGL_mesa.so.0 /usr/lib/libEGL_indirect.so.0",
                "ln -s libGLX_mesa.so /usr/lib/libGLX_indirect.so",
                "ln -s libGLX_mesa.so.0 /usr/lib/libGLX_indirect.so.0"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://mesa.freedesktop.org/archive/mesa-17.0.5.tar.xz",
                    "sha256": "668efa445d2f57a26e5c096b1965a685733a3b57d9c736f9d6460263847f9bfe"
                },
                {
                    "type": "patch",
                    "path": "mesa-EGL-Implement-the-libglvnd-interface-for-EGL-v2.patch"
                },
                {
                    "type": "patch",
                    "path": "mesa-fixup-EGL-Implement-the-libglvnd-interface-for-EGL-v.patch"
                },
                {
                    "type": "patch",
                    "path": "mesa-glvnd-fix-gl-dot-pc.patch"
                },
                {
                    "type": "patch",
                    "path": "mesa-Fix-linkage-against-shared-glapi.patch"
                },
                {
                    "type": "patch",
                    "path": "mesa-glapi-Link-with-glapi-when-built-shared.patch"
                }
            ]
        },
        {
            "name": "libva",
            "cleanup-platform": ["/bin"],

            "sources": [
                {
                    "type": "archive",
                    "url": "http://www.freedesktop.org/software/vaapi/releases/libva/libva-1.7.3.tar.bz2",
                    "sha256": "22bc139498065a7950d966dbdb000cad04905cbd3dc8f3541f80d36c4670b9d9"
                }
            ]
        },
        {
            "name": "libva-vdpau-driver",
            "config-opts": ["--enable-glx"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://www.freedesktop.org/software/vaapi/releases/libva-vdpau-driver/libva-vdpau-driver-0.7.4.tar.bz2",
                    "sha256": "155c1982f0ac3f5435ba20b221bcaa11be212c37db548cd1f2a030ffa17e9bb9"
                },
                {
                    "type": "patch",
                    "path": "libva-vdpau-driver-0.7.4-glext-85.patch"
                },
                {
                    "type": "patch",
                    "path": "libva-vdpau-driver-0.7.4-drop-h264-api.patch"
                },
                {
                    "type": "patch",
                    "path": "libva-vdpau-driver-0.7.4-fix_type.patch"
                }
            ]
        },
        {
            "name": "dbus",
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://dbus.freedesktop.org/releases/dbus/dbus-1.10.16.tar.gz",
                     "sha256": "a7b0ba6ea3e8d0e08afec5e3030d0245614268276620c536726f8fa6e5c43388"
                 }
            ]
        },
        {
            "name": "pulseaudio",
            "config-opts": [
                "--disable-static",
                "--disable-rpath",
                "--with-system-user=pulse",
                "--with-system-group=pulse",
                "--with-access-group=pulse-access",
                "--disable-oss-output",
                "--disable-jack",
                "--disable-lirc",
                "--disable-bluez4",
                "--disable-bluez5",
                "--disable-systemd"
            ],
            "cleanup": [ "/share/pulseaudio",
                         "/bin/pulseaudio",
                         "/bin/start-pulseaudio-x11",
                         "/bin/pasuspender",
                         "/lib/pulse-*/modules",
                         "/etc/dbus-1/system.d",
                         "/etc/pulse/daemon.conf",
                         "/etc/pulse/*.pa"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.freedesktop.org/software/pulseaudio/releases/pulseaudio-10.0.tar.xz",
                     "sha256": "a3186824de9f0d2095ded5d0d0db0405dc73133983c2fbb37291547e37462f57"
                 }
            ]
        },
        {
            "name": "alsa-lib",
            "config-opts": [ "--disable-aload", "--disable-alisp", "--disable-old-symbols",
                             "--disable-instr", "--with-pcm-plugins=hw ioplug extplug"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://pkgs.fedoraproject.org/repo/pkgs/alsa-lib/alsa-lib-1.1.3.tar.bz2/eefe5992567ba00d6110a540657aaf5c/alsa-lib-1.1.3.tar.bz2",
                    "sha256": "71282502184c592c1a008e256c22ed0ba5728ca65e05273ceb480c70f515969c"
                },
                {
                    "type": "script",
                    "dest-filename": "autogen.sh",
                    "commands": [ "autoreconf -i" ]
                }
            ]
        },
        {
            "name": "alsa-plugins",
            "config-opts": [ "--disable-jack", "--enable-pulseaudio", "--disable-samplerate",
                             "--disable-avcodec", "--with-speex=no"],
            "post-install": [ "mv /usr/share/alsa/alsa.conf.d/99-pulseaudio-default.conf.example /usr/share/alsa/alsa.conf.d/99-pulseaudio-default.conf" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://pkgs.fedoraproject.org/repo/pkgs/alsa-plugins/alsa-plugins-1.1.1.tar.bz2/69f9f3e2de3c97fc71d496e91e271fe5/alsa-plugins-1.1.1.tar.bz2",
                    "sha256": "8ea4d1e082c36528a896a2581e5eb62d4dc2683238e353050d0d624e65f901f1"
                },
                {
                    "type": "script",
                    "dest-filename": "autogen.sh",
                    "commands": [ "autoreconf -i" ]
                }
            ]
        },
        {
            "name": "libepoxy",
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://github.com/anholt/libepoxy/archive/1.4.1.tar.gz",
                     "sha256": "da8f42c355b62c2c3ff6bc534c2a24099707b249c2af6eaf8db54b94c364a504"
                 }
            ]
        },
        {
            "name": "itstool",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://files.itstool.org/itstool/itstool-2.0.2.tar.bz2",
                     "sha256": "bf909fb59b11a646681a8534d5700fec99be83bb2c57badf8c1844512227033a"
                 }
            ]
        },
        {
            "name": "desktop-file-utils",
            "cleanup-platform": [ "*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.freedesktop.org/software/desktop-file-utils/releases/desktop-file-utils-0.23.tar.xz",
                     "sha256": "6c094031bdec46c9f621708f919084e1cb5294e2c5b1e4c883b3e70cb8903385"
                 }
            ]
        },
        {
            "name": "shared-mime-info",
            "config-opts": ["--disable-update-mimedb"],
            "cleanup-platform": [ "/bin/update-mime-database" ],
            "no-parallel-make": true,
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://people.freedesktop.org/~hadess/shared-mime-info-1.8.tar.xz",
                     "sha256": "2af55ef1a0319805b74ab40d331a3962c905477d76c086f49e34dc96363589e9"
                 }
            ]
        },
        {
            "name": "hicolor-icon-theme",
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://icon-theme.freedesktop.org/releases/hicolor-icon-theme-0.15.tar.xz",
                     "sha256": "9cc45ac3318c31212ea2d8cb99e64020732393ee7630fa6c1810af5f987033cc"
                 }
            ]
        },
        {
            "name": "pixman",
            "config-opts": ["--disable-static"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://xorg.freedesktop.org/archive/individual/lib/pixman-0.34.0.tar.bz2",
                     "sha256": "39ba3438f3d17c464b0cb8be006dacbca0ab5aee97ebde69fec7ecdbf85794a0"
                 }
            ]
        },
        {
            "name": "cairo",
            "config-opts": ["--disable-static",
                            "--enable-xlib",
                            "--enable-ft",
                            "--enable-svg",
                            "--enable-ps",
                            "--enable-pdf",
                            "--enable-tee",
                            "--enable-gobject"
                           ],
            "cleanup-platform": ["/bin"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://cairographics.org/releases/cairo-1.14.8.tar.xz",
                     "sha256": "d1f2d98ae9a4111564f6de4e013d639cf77155baf2556582295a0f00a9bc5e20"
                 }
            ]
        },
        {
            "name": "graphite2",
            "cmake": true,
            "config-opts": [
                "-DCMAKE_C_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_CXX_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
                "-DCMAKE_INSTALL_PREFIX:PATH=/usr",
                "-DINCLUDE_INSTALL_DIR:PATH=/usr/include",
                "-DLIB_INSTALL_DIR:PATH=/usr/lib",
                "-DSYSCONF_INSTALL_DIR:PATH=/etc",
                "-DSHARE_INSTALL_PREFIX:PATH=/usr/share",
                "-DBUILD_SHARED_LIBS:BOOL=ON",
                "-DGRAPHITE2_COMPARE_RENDERER=OFF"
            ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://downloads.sourceforge.net/project/silgraphite/graphite2/graphite2-1.3.9.tgz",
                     "sha256": "ec0185b663059553fd46e8c4a4f0dede60a02f13a7a1fefc2ce70332ea814567"
                 }
            ]
        },
        {
            "name": "harfbuzz",
            "config-opts": ["--disable-static",
                            "--with-gobject",
                            "--with-graphite2"
                           ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.freedesktop.org/software/harfbuzz/release/harfbuzz-1.4.4.tar.bz2",
                     "sha256": "35d2f8ca476cbbec64ee824eca6b0209ff8db0334990b9f5af893b94f119d255"
                 }
            ]
        },
        {
            /* Rebuild with harfbuzz support */
            "name": "freetype",
            "config-opts": [ "--disable-static", "--with-zlib=yes", "--with-bzip2=yes", "--with-png=yes", "--with-harfbuzz=yes" ],
            "cleanup-platform": [ "/bin/freetype-config" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://download.savannah.gnu.org/releases/freetype/freetype-2.7.1.tar.bz2",
                     "sha256": "3a3bb2c4e15ffb433f2032f50a5b5a92558206822e22bfe8cbe339af4aa82f88"
                 }
            ]
        },
        {
            "name": "libproxy",
            "cmake": true,
            "config-opts": [
                "-DCMAKE_C_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_CXX_FLAGS_RELEASE:STRING=-DNDEBUG",
                "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
                "-DCMAKE_INSTALL_PREFIX:PATH=/usr",
                "-DINCLUDE_INSTALL_DIR:PATH=/usr/include",
                "-DLIB_INSTALL_DIR:PATH=/usr/lib",
                "-DSYSCONF_INSTALL_DIR:PATH=/etc",
                "-DSHARE_INSTALL_PREFIX:PATH=/usr/share",
                "-DBUILD_SHARED_LIBS:BOOL=ON",
                "-DMODULE_INSTALL_DIR=/usr/lib/libproxy/0.4.11/modules",
                "-DWITH_PERL=OFF",
                "-DWITH_GNOME3=OFF"
            ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://pkgs.fedoraproject.org/repo/pkgs/libproxy/libproxy-0.4.14.tar.xz/sha512/610d5d8ffb812efd75541a8da2b2ab5882529364b3e736f26c57fba57183464b531f84d04bdc73fabd4d3899a63b909db59ead81081d55753386da511e5381b3/libproxy-0.4.14.tar.xz",
                     "sha256": "e25d046850346a505c0617646f1e68b660092efadf665548a89c280900262ea6"
                 }
            ]
        },
        {
            "name": "gtk-doc",
            "sources": [
                 {
                     "type": "shell",
                     "commands": [
                         "xmlcatalog --noout --create /etc/xml/catalog",
                         "xmlcatalog --noout --add nextCatalog '' /etc/xml/docbook-xml.xml /etc/xml/catalog",
                         "xmlcatalog --noout --add nextCatalog '' /etc/xml/docbook-xsl.xml /etc/xml/catalog"
                     ]
                 },
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/gtk-doc/1.25/gtk-doc-1.25.tar.xz",
                     "sha256": "1ea46ed400e6501f975acaafea31479cea8f32f911dca4dff036f59e6464fd42"
                 }
            ]
        },
        {
            "name": "gobject-introspection",
            "config-opts": ["--disable-gtk-doc", "--disable-static" ],
            "cleanup-platform": ["/lib/gobject-introspection/giscanner",
                                 "/share/gobject-introspection/giscanner",
                                 "/bin"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/gobject-introspection/1.52/gobject-introspection-1.52.1.tar.xz",
                     "sha256": "2ed0c38d52fe1aa6fc4def0c868fe481cb87b532fc694756b26d6cfab29faff4"
                 }
            ]
        },
        {
            "name": "glib-networking",
            "config-opts": ["--disable-static", "--with-libproxy"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/glib-networking/2.50/glib-networking-2.50.0.tar.xz",
                     "sha256": "3f1a442f3c2a734946983532ce59ed49120319fdb10c938447c373d5e5286bee"
                 }
            ]
        },
        {
            "name": "libsoup",
            "config-opts": ["--disable-static", "--disable-vala"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libsoup/2.58/libsoup-2.58.1.tar.xz",
                    "sha256": "62c669f557de745b7b20ba9d5b74d839c95e4c9cea1a5ab7f3da5531a1aeefb9"
                }
            ]
        },
        {
            "name": "gnu-free-fonts",
            "no-autogen": true,
            "make-args": ["NAME=gnu-free", "PRIO=69", "FAMILIES=sans serif mono"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://ftp.gnu.org/gnu/freefont/freefont-ttf-20120503.zip",
                     "sha256": "7c85baf1bf82a1a1845d1322112bc6ca982221b484e3b3925022e25b5cae89af"
                 },
                 {
                     "type": "file",
                     "path": "gnu-free-mono.conf"
                 },
                 {
                     "type": "file",
                     "path": "gnu-free-sans.conf"
                 },
                 {
                     "type": "file",
                     "path": "gnu-free-serif.conf"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-fonts",
                     "dest-filename": "Makefile"
                 }
            ]
        },
        {
            "name": "dejavu-fonts",
            "no-autogen": true,
            "make-args": ["NAME=dejavu", "SRCPRIO=57", "PRIO=57", "FAMILIES=sans serif sans-mono", "EXTRA_CONFS=20-unhint-small-dejavu-sans.conf 20-unhint-small-dejavu-sans-mono.conf 20-unhint-small-dejavu-serif.conf", "TTFDIR=ttf/", "CONFDIR=fontconfig/"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://sourceforge.net/projects/dejavu/files/dejavu/2.37/dejavu-fonts-ttf-2.37.tar.bz2",
                     "sha256": "fa9ca4d13871dd122f61258a80d01751d603b4d3ee14095d65453b4e846e17d7"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-fonts",
                     "dest-filename": "Makefile"
                 }
            ]
        },
        {
            "name": "liberation-fonts",
            "no-autogen": true,
            "make-args": ["NAME=liberation-fonts", "PRIO=59", "FAMILIES=sans serif mono narrow"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://releases.pagure.org/liberation-fonts/liberation-fonts-ttf-2.00.1.tar.gz",
                     "sha256": "7890278a6cd17873c57d9cd785c2d230d9abdea837e96516019c5885dd271504"
                 },
                 {
                     "type": "file",
                     "path": "liberation-fonts-mono.conf"
                 },
                 {
                     "type": "file",
                     "path": "liberation-fonts-sans.conf"
                 },
                 {
                     "type": "file",
                     "path": "liberation-fonts-serif.conf"
                 },
                 {
                     "type": "file",
                     "path": "liberation-fonts-narrow.conf"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-fonts",
                     "dest-filename": "Makefile"
                 }
            ]
        },
        {
            "name": "google-crosextra-caladea-fonts",
            "no-autogen": true,
            "make-args": ["NAME=google-crosextra-caladea", "PRIO=62", "EXTRA_CONFS=30-0-google-crosextra-caladea.conf"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gsdview.appspot.com/chromeos-localmirror/distfiles/crosextrafonts-20130214.tar.gz",
                     "sha256": "c48d1c2fd613c9c06c959c34da7b8388059e2408d2bb19845dc3ed35f76e4d09"
                 },
                 {
                     "type": "file",
                     "path": "30-0-google-crosextra-caladea.conf"
                 },
                 {
                     "type": "file",
                     "path": "google-crosextra-caladea.conf"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-fonts",
                     "dest-filename": "Makefile"
                 }
            ]
        },
        {
            "name": "google-crosextra-carlito-fonts",
            "no-autogen": true,
            "make-args": ["NAME=google-crosextra-carlito", "PRIO=62", "EXTRA_CONFS=30-0-google-crosextra-carlito.conf"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gsdview.appspot.com/chromeos-localmirror/distfiles/crosextrafonts-carlito-20130920.tar.gz",
                     "sha256": "4bd12b6cbc321c1cf16da76e2c585c925ce956a08067ae6f6c64eff6ccfdaf5a"
                 },
                 {
                     "type": "file",
                     "path": "30-0-google-crosextra-carlito.conf"
                 },
                 {
                     "type": "file",
                     "path": "google-crosextra-carlito.conf"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-fonts",
                     "dest-filename": "Makefile"
                 }
            ]
        },
        {
            "name": "gdk-pixbuf2",
            "config-opts": ["--disable-static",
                            "--without-x11",
                            "--without-libjasper",
                            "--with-included-loaders=png,jpeg" ],
            "cleanup-platform": [ "/bin"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/gdk-pixbuf/2.36/gdk-pixbuf-2.36.6.tar.xz",
                     "sha256": "455eb90c09ed1b71f95f3ebfe1c904c206727e0eeb34fc94e5aaf944663a820c"
                 }
            ]
        },
        {
            "name": "libcroco",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libcroco/0.6/libcroco-0.6.11.tar.xz",
                    "sha256": "132b528a948586b0dfa05d7e9e059901bca5a3be675b6071a90a90b81ae5a056"
                }
            ]
        },
        {
            "name": "libdatrie",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://linux.thai.net/pub/thailinux/software/libthai/libdatrie-0.2.9.tar.xz",
                    "sha256": "d980713e7ad8e19cf3b54ee0173782b94332af8e7e4e936dde01d2cd72e1da1d"
                }
            ]
        },
        {
            "name": "libthai",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://linux.thai.net/pub/thailinux/software/libthai/libthai-0.1.22.tar.xz",
                    "sha256": "bdb291dcc3a6784e86b1b342ec75005e9ab487f8c1decc7c3e7d18d1bbc9b7b7"
                }
            ]
        },
        {
            "name": "pango",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/pango/1.40/pango-1.40.5.tar.xz",
                    "sha256": "24748140456c42360b07b2c77a1a2e1216d07c056632079557cd4e815b9d01c9"
                }
            ]
        },
        {
            "name": "atk",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/atk/2.24/atk-2.24.0.tar.xz",
                    "sha256": "bb2daa9a808c73a7a79d2983f333e0ba74be42fc51e3ba1faf2551a636487a49"
                }
            ]
        },
        {
            "name": "at-spi2-core",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/at-spi2-core/2.24/at-spi2-core-2.24.1.tar.xz",
                    "sha256": "1e90d064b937aacfe79a96232ac7e63d28d716e85bd9ff4333f865305a959b5b"
                }
            ]
        },
        {
            "name": "at-spi2-atk",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/at-spi2-atk/2.24/at-spi2-atk-2.24.1.tar.xz",
                    "sha256": "60dc90ac4f74b8ffe96a9363c25208a443b381bacecfefea6de549f20ed6957d"
                }
            ]
        },
        {
            "name": "librsvg",
            "config-opts": ["--disable-static"],
            "ensure-writable": ["/lib/gdk-pixbuf-2.0/*/loaders.cache"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/librsvg/2.40/librsvg-2.40.16.tar.xz",
                    "sha256": "d48bcf6b03fa98f07df10332fb49d8c010786ddca6ab34cbba217684f533ff2e"
                }
            ]
        },
        {
            "name": "gtk3",
            "config-opts": [ "--enable-xkb",
                             "--enable-xinerama",
                             "--enable-xrandr",
                             "--enable-xfixes",
                             "--enable-xcomposite",
                             "--enable-xdamage",
                             "--enable-x11-backend",
                             "--enable-wayland-backend" ],
            "cleanup-platform": [
                "/bin/gtk3-*",
                "/bin/gtk-builder-tool",
                "/bin/gtk-encode-symbolic-svg"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gtk+/3.22/gtk+-3.22.16.tar.xz",
                    "sha256": "3e0c3ad01f3c8c5c9b1cc1ae00852bd55164c8e5a9c1f90ba5e07f14f175fe2c"
                }
            ]
        },
        {
            "name": "orc",
            "config-opts": ["--disable-static"],
            "cleanup-platform": [ "/bin" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/orc/orc-0.4.26.tar.xz",
                     "sha256": "7d52fa80ef84988359c3434e1eea302d077a08987abdde6905678ebcad4fa649"
                 }
            ]
        },
        {
            "name": "mpg123",
            "config-opts": [ "-with-default-audio=pulse", "--with-audio=pulse" ],
            "cleanup": [ "/bin", "/share/man" ],
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
		    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
			]
		    }
                }
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "http://mpg123.org/download/mpg123-1.24.0.tar.bz2",
                    "sha256": "55fb169a7711938f5df0497d1ffe28419fbef50011dc01d00b216379e6a2256c"
                }
            ]
        },
        {
            "name": "gstreamer",
            "config-opts": ["--enable-debug", "--disable-examples" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://gstreamer.freedesktop.org/src/gstreamer/gstreamer-1.10.4.tar.xz",
                     "sha256": "50c2f5af50a6cc6c0a3f3ed43bdd8b5e2bff00bacfb766d4be139ec06d8b5218"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-base",
            "config-opts": ["--enable-experimental", "--enable-orc" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://gstreamer.freedesktop.org/src/gst-plugins-base/gst-plugins-base-1.10.4.tar.xz",
                     "sha256": "f6d245b6b3d4cb733f81ebb021074c525ece83db0c10e932794b339b8d935eb7"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-good",
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
		    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
			]
		    }
                }
            },
            "config-opts": ["--enable-experimental",
                            "--enable-orc" ,
                            "--disable-monoscope",
                            "--disable-aalib",
                            "--enable-cairo",
                            "--disable-libcaca",
                            "--disable-jack",
                            "--with-default-visualizer=autoaudiosink" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.10.4.tar.xz",
                     "sha256": "8a86c61434a8c44665365bd0b3557a040937d1f44bf69caee4e9ea816ce74d7e"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-bad",
            "config-opts": ["--enable-experimental", "--enable-orc" ],
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
		    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
			]
		    }
                }
            },
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-1.10.4.tar.xz",
                     "sha256": "23ddae506b3a223b94869a0d3eea3e9a12e847f94d2d0e0b97102ce13ecd6966"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-ugly",
            "config-opts": ["--disable-asfdemux", "--disable-dvdlpcmdec", "--disable-dvdsub",
                            "--disable-xingmux", "--disable-realmedia"],
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
		    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
			]
		    }
                }
            },
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-1.10.4.tar.xz",
                     "sha256": "6386c77ca8459cba431ed0b63da780c7062c7cc48055d222024d8eaf198ffa59"
                 }
            ]
        },
        {
            "name": "json-glib",
            "config-opts": [ "--disable-static"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/json-glib/1.2/json-glib-1.2.8.tar.xz",
                     "sha256": "fd55a9037d39e7a10f0db64309f5f0265fa32ec962bf85066087b83a2807f40a"
                 }
            ]
        },
        {
            "name": "libappstream-glib",
            "cleanup": ["/share/installed-tests"],
            "config-opts": [ "--disable-man",
                             "--disable-fonts",
                             "--disable-firmware",
                             "--disable-dep11",
                             "--disable-static",
                             "--disable-dependency-tracking" ],
            "sources": [
                {
                     "type": "archive",
                    "url": "https://people.freedesktop.org/~hughsient/appstream-glib/releases/appstream-glib-0.6.12.tar.xz",
                    "sha256": "ef91b3c71fc51dc002218f149cad108abc3d57f9b4a959870224e9256aa62d58"
                }
            ]
        },
        {
            "name": "hunspell",
            "config-opts": [ "--disable-static",
                             "--with-readline",
                             "--with-ui" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://downloads.sourceforge.net/hunspell/hunspell-1.3.3.tar.gz",
                     "sha256": "a7b2c0de0e2ce17426821dc1ac8eb115029959b3ada9d80a81739fa19373246c"
                 }
            ]
        },
        {
            "name": "aspell",
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://ftp.gnu.org/gnu/aspell/aspell-0.60.6.1.tar.gz",
                     "sha256": "f52583a83a63633701c5f71db3dc40aab87b7f76b29723aeb27941eff42df6e1"
                 },
                 {
                     "type": "shell",
                     "commands": [
			 "cp /usr/share/gnu-config/config.sub .",
			 "cp /usr/share/gnu-config/config.guess ."
		     ]
                 }
            ]
        },
        {
            "name": "hunspell-en",
            "no-autogen": true,
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://pkgs.fedoraproject.org/repo/pkgs/hunspell-en/wordlist-20121024.tar.xz/10a7ff0b2209af7d22b14b219b98c9b5/wordlist-20121024.tar.xz",
                     "strip-components": 0,
                     "sha256": "0e3e127bfa2a8068f6913949d137e75c4d025ecb9cf1748b80a8176cdee53148"
                 },
                 {
                     "type": "archive",
                     "strip-components": 0,
                     "dest": "en_GB",
                     "url": "http://pkgs.fedoraproject.org/repo/pkgs/hunspell-en/en_GB.zip/218909136738f4564b81ecd145ade6ee/en_GB.zip",
                     "sha256": "5869d8bd80eb2eb328ebe36b356348de4ae2acb1db6df39d1717d33f89f63728"
                 },
                 {
                     "type": "file",
                     "path": "Makefile-hunspell-en",
                     "dest-filename": "Makefile"
                 },
                 {
                     "type": "patch",
                     "strip-components": 0,
                     "path": "hunspell-en-fixbuild.patch"
                 }
            ]
        },
        {
            "name": "hyphen",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://downloads.sourceforge.net/hunspell/hyphen-2.8.8.tar.gz",
                    "sha256": "304636d4eccd81a14b6914d07b84c79ebb815288c76fe027b9ebff6ff24d5705"
                }
            ]
        },
        {
            "name": "xdg-user-dirs",
            "config-opts": ["--disable-documentation"],
            "make-args": ["SUBDIRS=po"],
            "make-install-args": ["SUBDIRS=po"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://user-dirs.freedesktop.org/releases/xdg-user-dirs-0.15.tar.gz",
                     "sha256": "20b4a751f41d0554bce3e0ce5e8d934be98cc62d48f0b90a894c3e1916552786"
                 }
            ]
        },
        {
            "name": "cups",
            "cleanup-platform": [ "/bin/cups-config" ],
            "config-opts": ["--disable-static",
                            "--enable-debug",
                            "--with-components=core",
                            "--with-dbusdir=/etc/dbus-1",
                            "--enable-avahi",
                            "--disable-systemd",
                            "--enable-threads",
                            "--enable-gnutls",
                            "--libdir=/usr/lib",
                            "localedir=/usr/share/locale" ],
            "post-install": [ "chmod u+w /usr/bin/ipptool /usr/lib/libcups.*" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.cups.org/software/2.1.0/cups-2.1.0-source.tar.bz2",
                     "sha256": "ba0238418442b8d84e09a865d0df6a728a20399826c5b466b14b1e9ab8c6d2c9"
                 }
            ]
        },
        {
            "name": "SDL2",
            "config-opts": ["--enable-sdl-dlopen",
                            "--disable-arts",
                            "--disable-esd",
                            "--disable-nas",
                            "--enable-pulseaudio",
                            "--disable-alsa",
                            "--disable-oss",
                            "--disable-sndio",
                            "--disable-libudev",
                            "--enable-video-wayland",
                            "--enable-wayland-shared=no"],
            "cleanup-platform": ["/bin/sdl2-config"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.libsdl.org/release/SDL2-2.0.5.tar.gz",
                     "sha256": "442038cf55965969f2ff06d976031813de643af9c9edc9e331bd761c242e8785"
                 }
            ]
        },
        {
            "name": "SDL2_image",
            "config-opts": ["--disable-static",
                            "--disable-jpg-shared",
                            "--disable-png-shared",
                            "--disable-tif-shared",
                            "--disable-webp-shared" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.libsdl.org/projects/SDL_image/release/SDL2_image-2.0.1.tar.gz",
                     "sha256": "3a3eafbceea5125c04be585373bfd8b3a18f259bd7eae3efc4e6d8e60e0d7f64"
                 }
            ]
        },
        {
            "name": "SDL2_net",
            "config-opts": ["--disable-static",
                            "--disable-gui" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.libsdl.org/projects/SDL_net/release/SDL2_net-2.0.1.tar.gz",
                     "sha256": "15ce8a7e5a23dafe8177c8df6e6c79b6749a03fff1e8196742d3571657609d21"
                 }
            ]
        },
        {
            "name": "SDL2_ttf",
            "config-opts": ["--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.libsdl.org/projects/SDL_ttf/release/SDL2_ttf-2.0.14.tar.gz",
                     "sha256": "34db5e20bcf64e7071fe9ae25acaa7d72bdc4f11ab3ce59acc768ab62fe39276"
                 }
            ]
        },
        {
            "name": "SDL2_mixer",
            "config-opts": ["--disable-static" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://www.libsdl.org/projects/SDL_mixer/release/SDL2_mixer-2.0.1.tar.gz",
                     "sha256": "5a24f62a610249d744cbd8d28ee399d8905db7222bf3bdbc8a8b4a76e597695f"
                 }
            ]
        },
        {
            "name": "openal",
            "buildsystem": "cmake",
            "cleanup": [ "/bin" ],
            "config-opts": [
                "-DCMAKE_INSTALL_LIBDIR=lib",
                "-DCMAKE_BUILD_TYPE=Release"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://kcat.strangesoft.net/openal-releases/openal-soft-1.17.2.tar.bz2",
                    "sha256": "a341f8542f1f0b8c65241a17da13d073f18ec06658e1a1606a8ecc8bbc2b3314"
                },
                {
                    "type": "patch",
                    "path": "openal-fpu-neon.patch"
                }
            ]
        },
        {
            "name": "geoclue2",
            /* TODO: Use --disable-backend when supported (missing .pc file atm) */
            "config-opts": ["--disable-3g-source", "--disable-cdma-source",
                            "--disable-modem-gps-source", "--disable-nmea-source"],
            "cleanup": [ "/share/applications",
                         "/etc/dbus-1/system.d", "/libexec",
                         "/share/dbus-1/system-services" ],
            "cleanup-platform": [ "/share/dbus-1/interfaces" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://www.freedesktop.org/software/geoclue/releases/2.4/geoclue-2.4.5.tar.xz",
                    "sha256": "78162d33a2d42477ec241db7fc082439b0e0f9a791eb3a41e5a2aa1eae9145a1"
                }
            ]
        },
        {
            "name": "libseccomp",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/seccomp/libseccomp/releases/download/v2.3.2/libseccomp-2.3.2.tar.gz",
                    "sha256": "3ddc8c037956c0a5ac19664ece4194743f59e1ccd4adde848f4f0dae7f77bca1"
                }
            ]
        },
        {
            "name": "pcre2",
            "config-opts": ["--enable-jit",
                            "--enable-pcre2grep-jit",
                            "--disable-bsr-anycrlf",
                            "--disable-coverage",
                            "--disable-ebcdic",
                            "--disable-never-backslash-C",
                            "--enable-newline-is-lf",
                            "--enable-pcre2-8",
                            "--enable-pcre2-16",
                            "--enable-pcre2-32",
                            "--disable-pcre2test-libedit",
                            "--enable-pcre2test-libreadline",
                            "--enable-pcre2grep-callout",
                            "--disable-pcre2grep-libbz2",
                            "--disable-pcre2grep-libz",
                            "--disable-rebuild-chartables",
                            "--enable-shared",
                            "--enable-stack-for-recursion",
                            "--disable-static",
                            "--enable-unicode",
                            "--disable-valgrind"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre2-10.22.tar.gz",
                    "sha256": "7627f93f2763ee6e11ac58558d8cfbf29e1070757b45571c0ba30ce9e096505c"
                }
            ]
        },
        {
            "name": "zenity",
            "cleanup": [ "/share/help" ],
            "config-opts": ["--disable-webkitgtk" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/zenity/3.24/zenity-3.24.0.tar.xz",
                    "sha256": "6ff0a026ec94e5bc1b30f78df91e54f4f82fd982f4c29b52fe5dacc886a9f7f7"
                },
                {
                    "type": "patch",
                    "path": "zenity-Use-GtkFileChooserNative.patch"
                }
            ]
        },
        {
            "name": "flatpak-xdg-utils",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/flatpak/flatpak-xdg-utils.git",
                    "branch": "0a2666fb34c484ac5f573dad1af361aa8ebbd814"
                }
            ]
        },
        {
            "name": "lib32-i386-symlink",
            "only-arches": ["x86_64"],
            "sources": [
                {
                    "type": "shell",
                    "commands": [
                        "mkdir -p /usr/lib/extra-links",
                        "ln -s /app/lib/ld-linux.so.2 /usr/lib/extra-links/ld-linux.so.2"
                    ]
                }
            ],
            "buildsystem": "simple",
            "build-commands": []
        },
        {
            "name": "lib32-arm-symlink",
            "only-arches": ["aarch64"],
            "sources": [
                {
                    "type": "shell",
                    "commands": [
                        "mkdir -p /usr/lib/extra-links",
                        "ln -s /app/lib/ld-linux-armhf.so.3 /usr/lib/extra-links/ld-linux-armhf.so.3"
                    ]
                }
            ],
            "buildsystem": "simple",
            "build-commands": []
        },
        {
            "name": "os-release",
            "post-install": [
                "mkdir -p /usr/share/runtime/share/themes",
                "mkdir -p /usr/share/runtime/share/icons"
            ],
            "sources": [
                {
                    "type": "file",
                    "path": "os-release"
                },
                {
                    "type": "file",
                    "path": "issue"
                },
                {
                    "type": "file",
                    "path": "issue.net"
                },
                {
                    "type": "file",
                    "path": "org.freedesktop.Sdk.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "org.freedesktop.Platform.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "os-release-configure",
                    "dest-filename": "configure"
                }
            ]
        }
    ]
}
